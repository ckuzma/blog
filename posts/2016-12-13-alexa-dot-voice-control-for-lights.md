

<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-4lE-xYAq9ik/WFcMB92_R3I/AAAAAAAAKIA/dpm2XvKPaI8i5wDNJrlxCjE1fftrESU0ACLcB/s1600/DSC_9745.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="263" src="https://3.bp.blogspot.com/-4lE-xYAq9ik/WFcMB92_R3I/AAAAAAAAKIA/dpm2XvKPaI8i5wDNJrlxCjE1fftrESU0ACLcB/s400/DSC_9745.JPG" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">It's a super-simple circuit. Missing: the light(s).</td></tr></tbody></table><br /><div class="separator" style="clear: both; text-align: left;">The past few weeks have seen me hacking together a number of small projects from <a href="https://github.com/ckuzma/nodemcu_oled_sketches/blob/master/nodemcu_oled_conway.ino">Conway's Game of Life on an OLED</a> screen to an <a href="https://github.com/ckuzma/atc_alexa">informational bot giving real-time radar information&nbsp;for Amazon Alexa</a>. Today I'm sharing a project I recently put some finishing touches on: Alexa voice-control for lights using nothing more than a NodeMCU. The firmware code is based largely off of someone else's project aimed at getting an Arduino board to do the exact same thing, but I made a few key modifications:</div><ul><li><div class="separator" style="clear: both; text-align: left;">Major refactor because the original code was both messy and slow (sorry it's true!)</div></li><li><div class="separator" style="clear: both; text-align: left;">The GPIO pin is set to voltage up by default (for offline&nbsp;use without WiFi / Alexa)</div></li><li><div class="separator" style="clear: both; text-align: left;">Implemented a WiFi Manager, negating the use for hard-coded WiFi credentials</div><a name='more'></a></li></ul><div class="separator" style="clear: both; text-align: left;">The finished prototype was connected to a single LED, as you can see in the demo video here:</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/yYnQ7DLzWcU/0.jpg" frameborder="0" height="266" src="https://www.youtube.com/embed/yYnQ7DLzWcU?feature=player_embedded" width="320"></iframe></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">I wasn't entirely sure how I wanted to make a more permanent implementation, but then I noticed I had not one, not two, but five NodeMCUs sitting around in a bin. It thus didn't take long before I'd committed one of them permanently to this project. I also decided to hardwire the end result directly to the end of some string-light LEDs.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://4.bp.blogspot.com/-ZGiIZm42dNc/WFcOzSH2WmI/AAAAAAAAKIM/pm6NBAznTlERmrrTaw4In_4BCPZO7tDzwCLcB/s1600/DSC_9747.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="263" src="https://4.bp.blogspot.com/-ZGiIZm42dNc/WFcOzSH2WmI/AAAAAAAAKIM/pm6NBAznTlERmrrTaw4In_4BCPZO7tDzwCLcB/s400/DSC_9747.JPG" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">The finished prototype.</td></tr></tbody></table><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><a href="http://blog.christopherkuzma.com/2015/02/4x4x4-led-cube-powered-by-arduino.html">Similar</a> to some of my <a href="http://blog.christopherkuzma.com/2016/03/4x4x4-led-cube-take-two.html">prior</a> <a href="http://blog.christopherkuzma.com/2016/09/weather-widget-nodemcu-amoled.html">projects</a>, I sandwiched the solder connections and wiring between two prototyping boards. This enabled me to wind the cord running to the LED lights around the pins and thus hopefully alleviate stress and prevent the connections from breaking loose.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-DquMhh_U5Og/WFcPY-nN1II/AAAAAAAAKIQ/-jiYM6x0EIwRW531qK00O9BsPq28j1s0gCLcB/s1600/DSC_9750.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="https://3.bp.blogspot.com/-DquMhh_U5Og/WFcPY-nN1II/AAAAAAAAKIQ/-jiYM6x0EIwRW531qK00O9BsPq28j1s0gCLcB/s320/DSC_9750.JPG" width="211" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">It's a sandwich!</td></tr></tbody></table><div><br /></div><div>While I'm not entirely happy with the result- mostly because it would be far too easy for something to short pins on the NodeMCU- it's at the point where any additional work put into it will only result in minimal improvements.</div><br /><div style="text-align: left;">And what would project documentation be without a link to the code repo? You can find&nbsp;it here: <a href="https://github.com/ckuzma/nodemcu-as-arduino/tree/master/Sketches/Alexa/AlexaWemoSwitch">https://github.com/ckuzma/nodemcu-as-arduino/tree/master/Sketches/Alexa/AlexaWemoSwitch</a></div>