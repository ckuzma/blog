---
layout: post
title: Conway's Game of Life on NodeMCU (+ AMOLED)
date: '2017-01-01T23:20:00.001-08:00'
author: Christopher Kuzma
tags:
- automata
- nodemcu
- amoled
- esp8266
- conways game of life
modified_time: '2017-01-01T23:20:10.058-08:00'
thumbnail: https://1.bp.blogspot.com/-sFcRzQvUhFE/WGQynK5-fyI/AAAAAAAAKRQ/Xb1eUWyxrh8UZI1DAJH70J2I2YgE4PmmgCLcB/s72-c/conway.jpg
---

<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-sFcRzQvUhFE/WGQynK5-fyI/AAAAAAAAKRQ/Xb1eUWyxrh8UZI1DAJH70J2I2YgE4PmmgCLcB/s1600/conway.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="239" src="https://1.bp.blogspot.com/-sFcRzQvUhFE/WGQynK5-fyI/AAAAAAAAKRQ/Xb1eUWyxrh8UZI1DAJH70J2I2YgE4PmmgCLcB/s320/conway.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Conway's Game of Life running on the NodeMCU.</td></tr></tbody></table>One of my favorite programming assignments&nbsp;during school was to write a version of Conway's Game of Life in Python. At the time I was far more concerned with getting things working than I was with writing clean and efficient code, which only served to complicate my efforts to debug wonky behavior. I especially remember my struggle to accurately count the number of neighbors for a cell on the edge of the board. (My solution, if I remember correctly, was to add a hidden single-cell border to the board that didn't have any logic performed on it.)<br /><br />In researching what others have built using a NodeMCU/ESP8266 and "128x64 I2C AMOLED" boards, I came across <a href="https://github.com/kubi57/ESP8266/tree/master/pong-clock">a pong clock written in Lua</a>. Unfortunately,&nbsp;I haven't had&nbsp;much luck with&nbsp;Lua on the ESP8266 chip, so I was unable to flash the code onto one of my spare boards. Would it be possible to implement something similar using Arduino on the NodeMCU, though? To find out, I decided to test my ability to use the SSD1306 display control library and APIs for Arduino, by rewriting Conway's Game of Life.<br /><a name='more'></a><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://2.bp.blogspot.com/-iH2maB9LF_k/WGn8rsYYdLI/AAAAAAAAKUw/7STZ3VOhfIoe4OCNioUkqwaYy2qDy8a1gCLcB/s1600/random.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="239" src="https://2.bp.blogspot.com/-iH2maB9LF_k/WGn8rsYYdLI/AAAAAAAAKUw/7STZ3VOhfIoe4OCNioUkqwaYy2qDy8a1gCLcB/s320/random.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">The random visualization running with each cell represented as an 8x8 pixel square.</td></tr></tbody></table><br />To start, I decided to whip together <a href="https://github.com/ckuzma/nodemcu-as-arduino/blob/master/Sketches/OLED/RandomVisualizer/RandomVisualizer.ino">a random visualization</a>. Every cell is randomly assigned an on/off value, the display shows the cells, and then the next grid replaces it on the display&nbsp;after a set amount of time. Easier said than done- I ran into a low memory situation and my board kept resetting itself. The solution I took was to simply scale up the size of the cells. Instead of each cell being 1 pixel, each cell became 4 pixels. A welcome side effect of this change was a much more striking visual that took on the appearance of a "living" QR code.<br /><br />With that first test done, I got to it and wrote an <a href="https://github.com/ckuzma/nodemcu-as-arduino/blob/master/Sketches/OLED/ConwaysGameOfLife/ConwaysGameOfLife.ino">Arduino sketch for Conway's Game of Life</a>, which you can see running in the picture up above. Seeing how the board is likely to become stagnant after a while, it is reseeded after a&nbsp;pre-set number of&nbsp;cycles to ensure that things stay interesting.<br /><br />Once I'm back home with access to my boards, I hope to finally write Pong. Till then <a href="https://www.hackster.io/contests/Intel-Arduino-101">there are</a> <a href="https://www.hackster.io/contests/RealtimeAT&amp;TIoTStarterKit">a number</a> <a href="https://www.hackster.io/contests/WalaBot">of hardware</a> <a href="https://www.hackster.io/contests/cypress-sensing-the-world-contest">competitions</a> I've entered that I'll be working on.